name: ZenPacks.community.HPILO2

zProperties:
  DEFAULTS:
    category: ILO2
  zILO2UserName:
    default: ''
  zILO2Password:
    type: password
  zILO2UseSSL:
    type: boolean
    default: True
  zILO2Port:
    default: 443

classes:
  HPILO2Device:
    base: [zenpacklib.Device]
    label: HP Server

  HPILO2Chassis:
    base: [zenpacklib.Component]
    label: HP Chassis
    plural_label: HP Chassis

    properties:
      enclosure:
        label: Enclosure
      serialNo:
        label: Serial Number
      productName:
        label: Product
      get_cpu_count:
        label: CPU Count
        api_only: true
        api_backendtype: method
      totalRam:
        label: Total RAM
        renderer: Zenoss.render.bytesString
      productId:
        label: Product ID
        grid_display: false
      serverName:
        label: Server Name
        details_display: false
      perfId:
        grid_display: false

  HPILO2SystemBoard:
    base: [zenpacklib.Component]
    label: HP System Board
    plural_label: HP System Boards

    properties:
      productName:
        label: Product Name
      romVer:
        label: Rom Version
      serialNo:
        label: Serial Number

  HPILO2ManagementController:
    base: [zenpacklib.Component]
    label: HP Management Controller

    properties:
      firmware:
        label: Firmware Version
      firmwareDate:
        label: Firmware Date
      ipv4Address:
        label: ipv4 Address
      licenseType:
        label: Active License Type
        label_width: 148

  HPILO2Processor:
    base: [zenpacklib.Component]
    label: HP Processor

    properties:
      cacheSizeL1:
        label: L1
      cacheSizeL2:
        label: L2
      cacheSizeL3:
        label: L3
      coreCount:
        label: Cores
      threadCount:
        label: Thread Count

  HPILO2Memory:
    base: [zenpacklib.Component]
    label: HP Memory Device
    properties:
      size:
        label: Size
      speed:
        label: Speed

  HPILO2CoolingFan:
    base: [zenpacklib.Component]
    label: HP Cooling Fan
    properties:
      zone:
        label: Zone

  HPILO2Temperature:
    base: [zenpacklib.Component]
    label: HP Temperature
    properties:
      location:
        label: Location
      caution:
        label: Caution
      critical:
        label: Critical

  HPILO2PowerSupply:
    base: [zenpacklib.Component]
    label: HP Power Supply
    plural_label: HP Power Supplies
    properties:
      status:
        label: Status

  HPILO2PhysicalDrive:
    base: [zenpacklib.Component]
    label: HP Physical Drive
    properties:
      enclosure:
        label: Enclosure

  HPILO2LogicalDrive:
    base: [zenpacklib.Component]
    label: HP Logical Drive

  HPILO2NetworkInterface:
    base: [zenpacklib.Component]
    label: HP Network Interface
    properties:
      port:
        label: Port
      mac:
        label: MAC Address

  HPILO2PCIDevice:
    base: [zenpacklib.Component]
    label: HP PCI Device
    properties:
      type:
        label: Type
      width:
        label: Width

class_relationships:
  - HPILO2Device(hpilo2chassis) 1:MC HPILO2Chassis
  - HPILO2Chassis(hpilo2systemboard) 1:MC HPILO2SystemBoard
  - HPILO2Chassis(hpilo2managementcontroller) 1:MC HPILO2ManagementController
  - HPILO2Chassis(hpilo2processors) 1:MC HPILO2Processor
  - HPILO2Chassis(hpilo2memories) 1:MC HPILO2Memory
  - HPILO2Chassis(hpilo2coolingfans) 1:MC HPILO2CoolingFan
  - HPILO2Chassis(hpilo2temperatures) 1:MC HPILO2Temperature
  - HPILO2Chassis(hpilo2powersupplies) 1:MC HPILO2PowerSupply
  - HPILO2Chassis(hpilo2physicaldrives) 1:MC HPILO2PhysicalDrive
  - HPILO2Chassis(hpilo2logicaldrives) 1:MC HPILO2LogicalDrive
  - HPILO2Chassis(hpilo2networkinterface) 1:MC HPILO2NetworkInterface
  - HPILO2Chassis(hpilo2pcidevices) 1:MC HPILO2PCIDevice
# - HPChassis(hpnetworkinterfacecontrollers) 1:MC HPNetworkInterfaceController
# - HPChassis 1:MC HPArrayController

device_classes:
  /Server/HPILO2:
    zProperties:
      zPythonClass: ZenPacks.community.HPILO2.HPILO2Device
      zPingMonitorIgnore: True
      zSnmpMonitorIgnore: True
      zCollectorPlugins:
         - ilo2.HPILO2Modeler